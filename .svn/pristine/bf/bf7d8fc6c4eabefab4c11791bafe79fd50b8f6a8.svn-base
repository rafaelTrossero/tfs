<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition  xmlns="http://www.w3.org/1999/xhtml"
                 xmlns:ui="http://java.sun.com/jsf/facelets"
                 template="./Template/TfsTemplate.xhtml"
                 xmlns:p="http://primefaces.org/ui"
                 xmlns:h="http://java.sun.com/jsf/html"
                 xmlns:f="http://java.sun.com/jsf/core">

    <ui:define name="content">

        <p:dialog id="dOpeProy"
                  modal="true"
                  widgetVar="dlgOpeProy">

            <td>
                <div>
                    <h:outputText value="Operacion "/>
                </div>
                <div>

                    <p:dataTable id="dtOperacion"
                                 value="#{listaOperacionBean.lstOperacion}"
                                 var="ope"
                                 rowKey="#{ope.id}"
                                 selectionMode="single"
                                 paginator="true"
                                 rows="10"
                                 >
                        <p:ajax event="rowSelect" listener="#{operacionBean.cargarOperacionSelect}"   
                                update=":frmMain:otOperacion"
                                oncomplete="dlgOpeProy.hide()" />
                        <p:column>
                            <f:facet name="header">
                                <h:outputText value="Cóodigo"/>
                            </f:facet>
                            <h:outputText value="#{ope.id}"/>
                        </p:column>

                        <p:column filterBy="#{ope.operacion}">
                            <f:facet name="header">
                                <h:outputText value="Operacion"/>
                            </f:facet>
                            <h:outputText value="#{ope.operacion}"/>
                        </p:column>

                    </p:dataTable>
                </div>

            </td>
        </p:dialog>




        <!-- DIALOGO PROYECTO Operacion 2 !-->
        <p:dialog id="dModProy1" 
                  widgetVar="dlgModProyecto1" 
                  modal="true"

                  closable="false" resizable="false">
            <f:facet name="header">
                <h:outputText value="Cambiar titulo de PROYECTAA"/>
            </f:facet>


            <p:panel id="display1">
                <p:accordionPanel id ="apAlu1" style="width: 600px;">
                    <p:tab title="Información del proyecto"> 
                        <h:panelGrid columns="2" cellpadding="2" >
                            <h:outputLabel value="Titulo:" style="text-align:center"/>
                            <h:outputText value="#{operacionBean.proyecto.titulo}" />

                        </h:panelGrid>
                    </p:tab>

                </p:accordionPanel>

            </p:panel>    


            <div style="clear: both;"/>
            <p:commandButton id="btnSalir1"
                             value="Salir" 
                             oncomplete="dlgModProyecto1.hide()"

                             process="@this"/>
            <p:commandButton id="btnAction1"
                             value="Guardar " 
                             actionListener="#{presentacionBean.create()}" 
                             update=""
                             />


            <div style="clear: both;"/>

            <div>
                <p:messages autoUpdate="true"/>
            </div>


            <div style="clear: both;"/>


        </p:dialog>

        <!-- DIALOGO PROYECTO PASO 1 !-->
        <p:dialog id="dModProy" 
                  widgetVar="dlgModTitulo" 
                  modal="true"

                  closable="false" resizable="false">
            <f:facet name="header">
                <h:outputText value="Cambiar titulo de proyecto"/>
            </f:facet>


            <p:panel id="display">

                <p:focus context="display"/> 

                <h:inputHidden value="#{operacionBean.proyecto.id}"/>

                <h:panelGrid columns="2" cellpadding="2" >
                    <h:outputLabel value="Titulo:" style="text-align:center"/>
                    <h:outputText value="#{operacionBean.proyecto.titulo}" />

                    <h:outputLabel value="Operacion:" style="text-align:center"/>
                    <h:outputText value="#{operacionBean.listaOperacionBean.selectedOpe.operacion}" />

                    <h:outputLabel value="Nuevo titulo:" style="text-align:center"/>
                    <p:inputText  value="#{operacionBean.nuevoTitulo}"/>


                </h:panelGrid>


            </p:panel>    

            <div style="clear: both;"/>
            <p:commandButton id="btnSalir"
                             value="Salir" 
                             oncomplete="dlgModTitulo.hide()"

                             process="@this"/>

            <p:commandButton id="btnAction"
                             value="Guardar " 
                             action="#{operacionBean.edit}"
                             update=":frmMain:display, :frmMain:somProyecto, @this"
                             />


            <div style="clear: both;"/>

            <div>
                <p:messages autoUpdate="true"/>
            </div>


            <div style="clear: both;"/>


        </p:dialog>


        <p:dialog id="dBajaDir" 
                  widgetVar="dlgBajaDir" 
                  modal="true"

                  closable="false" resizable="false">
            <f:facet name="header">
                <h:outputText value="Alta de director"/>
            </f:facet>


            <p:panel id="display2">
                <p:accordionPanel id ="apBajaDir" style="width: 600px;">
                    <p:tab title="realizar alta de director"> 
                        <h:panelGrid columns="2" cellpadding="2" >
                            <h:outputLabel value="Titulo:" style="text-align:center"/>
                            <h:outputText value="#{operacionBean.proyecto.titulo}" />


                        </h:panelGrid>
                        <p:dataList value="#{operacionBean.lstProyDirector}"
                                    var="dir" 
                                    emptyMessage="No se ha asignado un director">
                            <h:outputText value="#{dir.docente.apellido},#{dir.docente.nombre},    Dni:#{dir.docente.dni}"/>
                        </p:dataList>

                        <p:selectOneMenu id="somDirector"
                                         converter="ConversorGenerico"
                                         value="#{operacionBean.proy_direc.docente}">
                            <f:selectItem itemLabel="Seleccionar.." itemValue=""/>
                            <f:selectItems 
                                value="#{listaDocenteBean.lstSIDocente}"/>

                        </p:selectOneMenu>



                    </p:tab>

                </p:accordionPanel>

            </p:panel>    

            <p:growl id="message" showDetail="true"  />
            <div style="clear: both;"/>

            <p:commandButton id="btnSalir2"
                             value="Salir" 
                             oncomplete="dlgBajaDir.hide()"

                             process="@this"/>
            <p:commandButton id="btnAction2"
                             value="Guardar " 
                             actionListener="#{operacionBean.alta_dir()}" 
                             update="message">
                <p:confirm header="Confirmación" message="¿Seguro?" icon="ui-icon-alert" />
            </p:commandButton>
            <p:confirmDialog global="true" showEffect="fade" hideEffect="explode">
                <p:commandButton value="Si" type="button" styleClass="ui-confirmdialog-yes" icon="ui-icon-check" />
                <p:commandButton value="No" type="button" styleClass="ui-confirmdialog-no" icon="ui-icon-close" />
            </p:confirmDialog>


            <div style="clear: both;"/>

            <div>
                <p:messages autoUpdate="true"/>
            </div>


            <div style="clear: both;"/>


        </p:dialog>





        <p:dialog id="dBajaDir2" 
                  widgetVar="dlgBajaDir2" 
                  modal="true"

                  closable="false" resizable="false">
            <f:facet name="header">
                <h:outputText value="baja de director true"/>
            </f:facet>


            <p:panel id="display3">
                <p:accordionPanel id ="apBajaDir2" style="width: 600px;">
                    <p:tab title="realizar baja de director"> 
                        <h:panelGrid columns="2" cellpadding="2" >
                            <h:outputLabel value="Titulo:" style="text-align:center"/>
                            <h:outputText value="#{operacionBean.proyecto.titulo}" />

                            <h:outputLabel value="Director:" style="text-align:center"/>
                        </h:panelGrid>
                        <p:dataList value="#{operacionBean.lstProyDirector}"
                                    var="dir" 
                                    emptyMessage="No se ha asignado un director">
                            <h:outputText value="#{dir.docente.apellido},#{dir.docente.nombre},    Dni:#{dir.docente.dni}"/>
                        </p:dataList>
                        <h:panelGrid columns="2" cellpadding="2" >
                            <h:outputLabel value="Observacion:" style="text-align:center"/>
                            <p:inputText  value="#{operacionBean.observacion}" />


                        </h:panelGrid>



                    </p:tab>

                </p:accordionPanel>

            </p:panel>    

            <p:growl id="messages" showDetail="true"  />
            <div style="clear: both;"/>
            <p:commandButton id="btnSalir3"
                             value="Salir" 
                             oncomplete="dlgBajaDir2.hide()"

                             process="@this"/>
            <p:commandButton id="btnAction3"
                             value="Guardar " 
                             actionListener="#{operacionBean.baja_dir()}" 
                             update="messages">
                <p:confirm header="Confirmación" message="¿Seguro?" icon="ui-icon-alert" />
            </p:commandButton>
            <p:confirmDialog global="true" showEffect="fade" hideEffect="explode">
                <p:commandButton value="Si" type="button" styleClass="ui-confirmdialog-yes" icon="ui-icon-check" />
                <p:commandButton value="No" type="button" styleClass="ui-confirmdialog-no" icon="ui-icon-close" />
            </p:confirmDialog>

            <div style="clear: both;"/>

            <div>
                <p:messages autoUpdate="true"/>
            </div>


            <div style="clear: both;"/>


        </p:dialog>


        <p:dialog id="dBajaAsesor" 
                  widgetVar="dlgBajaAsesor" 
                  modal="true"

                  closable="false" resizable="false">
            <f:facet name="header">
                <h:outputText value="Baja de Asesor"/>
            </f:facet>


            <p:panel id="display4">
                <p:accordionPanel id ="apBajaAsesor1" style="width: 600px;">
                    <p:tab title="Realizar baja de asesor"> 
                        <h:panelGrid columns="2" cellpadding="2" >

                            <h:outputLabel value="Titulo del proyecto:" style="text-align:center"/>
                            <h:outputText value="#{operacionBean.proyecto.titulo}" />

                        </h:panelGrid>
                        <h:panelGrid columns="1" cellpadding="2" >
                            <h:outputLabel value="Asesores:" style="text-align:center"/>
                        </h:panelGrid>
                        <p:selectCheckboxMenu id="smAsesor"  label="Seleccionar Asesor/es" 
                                              converter="ConversorGenerico"
                                              value="#{operacionBean.selectedAses}"

                                              filter="true" filterMatchMode="startsWith" panelStyle="width:250px without-selectall">
                            <f:selectItems   value="#{listaOperacionBean.lstSIasesor}" />
                        </p:selectCheckboxMenu>

                        <h:panelGrid columns="2" cellpadding="2" >
                            <h:outputLabel value="Observacion:" style="text-align:center"/>
                            <p:inputText value="#{operacionBean.obs}" />
                        </h:panelGrid>









                    </p:tab>

                </p:accordionPanel>

            </p:panel>    
            <div style="clear: both;"/>

            <div>
                <p:messages autoUpdate="true"/>
            </div>



            <p:growl id="messageBajaasesor" showDetail="true"  />
            <div style="clear: both;"/>
            <p:commandButton id="btnSalir5"
                             value="Salir" 
                             oncomplete="dlgBajaAsesor.hide()"

                             process="@this"/>



            <p:commandButton id="cbaction1"
                             value="Guardar " 
                             actionListener="#{operacionBean.baja_asesor()}" 


                             update=":frmMain:pPrincipal,messageBajaasesor 
                             :frmMain:display4,dtOperacion @this"

                             >
                <p:confirm header="Confirmación" message="¿Seguro?" icon="ui-icon-alert" />
            </p:commandButton>
            <p:confirmDialog global="true" showEffect="fade" hideEffect="explode">
                <p:commandButton value="Si" type="button" styleClass="ui-confirmdialog-yes" icon="ui-icon-check" />
                <p:commandButton value="No" type="button" styleClass="ui-confirmdialog-no" icon="ui-icon-close" />
            </p:confirmDialog>

        </p:dialog>
        <p:dialog id="dAltaAsesor" 
                  widgetVar="dlgAltaAsesor" 
                  modal="true"

                  closable="false" resizable="false">
            <f:facet name="header">
                <h:outputText value="Alta de Asesor"/>
            </f:facet>


            <p:panel id="pAltaAsesor">
                <p:accordionPanel id ="apAltaAsesor" style="width: 600px;">
                    <p:tab title="Realizar alta de asesor"> 
                        <h:panelGrid columns="2" cellpadding="2" >
                            <h:outputLabel value="Titulo del proyecto:" style="text-align:center"/>
                            <h:outputText value="#{operacionBean.proyecto.titulo}" />

                            <h:outputLabel value="Asesores:" style="text-align:center"/>

                            <p:selectCheckboxMenu id="smAltaAsesor"  label="Seleccionar Asesor/es" 
                                                  converter="ConversorGenerico"
                                                  value="#{operacionBean.asesoresSelect}"

                                                  filter="true" filterMatchMode="startsWith" panelStyle="width:250px without-selectall">
                                <f:selectItems   value="#{listaProfesionalBean.lstSIProfesionalActivo}" />
                            </p:selectCheckboxMenu>
                        </h:panelGrid>





                    </p:tab>

                </p:accordionPanel>

            </p:panel>    
            <div style="clear: both;"/>

            <div>
                <p:messages autoUpdate="true"/>
            </div>



            <div style="clear: both;"/>

            <p:growl id="messageAltaasesor" showDetail="true"  />
            <div style="clear: both;"/>
            <p:commandButton id="btnSalir7"
                             value="Salir" 
                             oncomplete="dlgAltaAsesor.hide()"

                             process="@this"/>



            <p:commandButton id="cbAlta"
                             value="Guardar " 
                             actionListener="#{operacionBean.alta_Asesor()}" 


                             update=":frmMain:pPrincipal,messageAltaasesor 
                             :frmMain:pAltaAsesor,dtOperacion @this">
                <p:confirm header="Confirmación" message="¿Seguro?" icon="ui-icon-alert" />
            </p:commandButton>
            <p:confirmDialog global="true" showEffect="fade" hideEffect="explode">
                <p:commandButton value="Si" type="button" styleClass="ui-confirmdialog-yes" icon="ui-icon-check" />
                <p:commandButton value="No" type="button" styleClass="ui-confirmdialog-no" icon="ui-icon-close" />
            </p:confirmDialog>

        </p:dialog>

        <p:dialog id="dBajaCodirector" 
                  widgetVar="dlgBajaCodirector" 
                  modal="true"

                  closable="false" resizable="false">
            <f:facet name="header">
                <h:outputText value="Baja de Codirector"/>
            </f:facet>


            <p:panel id="pBajaCodirector">
                <p:accordionPanel id ="apBajaCodirector" style="width: 600px;">
                    <p:tab title="Realizar baja de codirector"> 
                        <h:panelGrid columns="2" cellpadding="2" >

                            <h:outputLabel value="Titulo del proyecto:" style="text-align:center"/>
                            <h:outputText value="#{operacionBean.proyecto.titulo}" />

                            <h:outputLabel value="Codirectores:" style="text-align:center"/>

                            <p:selectCheckboxMenu id="smAsesor"  label="Seleccionar Codirector/es" 
                                                  converter="ConversorGenerico"
                                                  value="#{operacionBean.selectedCodirectores}"

                                                  filter="true" filterMatchMode="startsWith" panelStyle="width:250px without-selectall">
                                <f:selectItems   value="#{listaOperacionBean.lstSIcodirector}" />
                            </p:selectCheckboxMenu>
                            <h:outputLabel value="Observaciones" style="text-align:center"/>
                            <p:inputText  value="#{operacionBean.observacionBajaCodirector}"/>
                        </h:panelGrid>





                    </p:tab>

                </p:accordionPanel>

            </p:panel> 
            <p:growl id="message1" showDetail="true"  />
            <div style="clear: both;"/>
            <p:commandButton id="btnSalir8"
                             value="Salir" 
                             oncomplete="dlgBajaCodirector.hide()"

                             process="@this"/>
            <p:commandButton id="cbaction2"
                             value="Guardar " 
                             actionListener="#{operacionBean.baja_Codirector()}" 

                             update="message1">
                <p:confirm header="Confirmación" message="¿Seguro?" icon="ui-icon-alert" />
            </p:commandButton>
            <p:confirmDialog global="true" showEffect="fade" hideEffect="explode">
                <p:commandButton value="Si" type="button" styleClass="ui-confirmdialog-yes" icon="ui-icon-check" />
                <p:commandButton value="No" type="button" styleClass="ui-confirmdialog-no" icon="ui-icon-close" />
            </p:confirmDialog>

            <div style="clear: both;"/>

            <div>
                <p:messages autoUpdate="true"/>
            </div>



            <div style="clear: both;"/>


        </p:dialog>

        <p:dialog id="dAltaCodirector" 
                  widgetVar="dlgAltaCodirector" 
                  modal="true"

                  closable="false" resizable="false">
            <f:facet name="header">
                <h:outputText value="Alta de Codirector"/>
            </f:facet>


            <p:panel id="pAltaCodirector">
                <p:accordionPanel id ="apAltaCodirector" style="width: 600px;">
                    <p:tab title="Realizar alta de codirector"> 
                        <h:panelGrid columns="2" cellpadding="2" >
                            <h:outputLabel value="Titulo del proyecto:" style="text-align:center"/>
                            <h:outputText value="#{operacionBean.proyecto.titulo}" />

                            <h:outputLabel value="Codirectores:" style="text-align:center"/>

                            <p:selectCheckboxMenu id="smAltaAsesor"  label="Seleccionar Codirector/es" 
                                                  converter="ConversorGenerico"
                                                  value="#{operacionBean.codirectoresSelect}"

                                                  filter="true" filterMatchMode="startsWith" panelStyle="width:250px without-selectall">
                                <f:selectItems   value="#{listaProfesionalBean.lstSIProfesionalActivo}" />
                            </p:selectCheckboxMenu>
                        </h:panelGrid>





                    </p:tab>

                </p:accordionPanel>

            </p:panel>    
            <p:growl id="message2" showDetail="true"  />
            <div style="clear: both;"/>
            <p:commandButton id="btnSalir9"
                             value="Salir" 
                             oncomplete="dlgAltaCodirector.hide()"

                             process="@this"/>
            <p:commandButton id="cbAlta1"
                             value="Guardar " 
                             actionListener="#{operacionBean.alta_Codirector()}" 

                             update="message2">
                <p:confirm header="Confirmación" message="¿Seguro?" icon="ui-icon-alert" />
            </p:commandButton>
            <p:confirmDialog global="true" showEffect="fade" hideEffect="explode">
                <p:commandButton value="Si" type="button" styleClass="ui-confirmdialog-yes" icon="ui-icon-check" />
                <p:commandButton value="No" type="button" styleClass="ui-confirmdialog-no" icon="ui-icon-close" />
            </p:confirmDialog>
            <div style="clear: both;"/>

            <div>
                <p:messages autoUpdate="true"/>
            </div>



            <div style="clear: both;"/>


            <div style="clear: both;"/>




        </p:dialog>


        <p:dialog id="dBajaTribunal" 
                  widgetVar="dlgBajaTribunal" 
                  modal="true"

                  closable="false" resizable="false">
            <f:facet name="header">
                <h:outputText value="baja de tribunal"/>
            </f:facet>


            <p:panel id="pBajaTribunal">
                <p:accordionPanel id ="apBajaTribunal" style="width: 600px;">
                    <p:tab title="realizar baja de tribunal"> 
                        <h:panelGrid columns="2" cellpadding="2" >
                            <h:outputLabel value="Titulo:" style="text-align:center"/>
                            <h:outputText value="#{operacionBean.proyecto.titulo}" />


                        </h:panelGrid>

                        <h:panelGrid columns="2" cellpadding="2" >


                            <h:outputLabel value="Presidente:" style="text-align:center"/>
                            <h:outputText value="#{operacionBean.presidente.apellido}" />

                            <h:outputLabel value="Vocal 1:" style="text-align:center"/>
                            <h:outputText value="#{operacionBean.vocal1.apellido}" />

                            <h:outputLabel value="Vocal 2:" style="text-align:center"/>
                            <h:outputText value="#{operacionBean.vocal2.apellido}" />

                            <h:outputLabel value="Suplente 1:" style="text-align:center"/>
                            <h:outputText value="#{operacionBean.suplente1.apellido}" />

                            <h:outputLabel value="Suplente 2:" style="text-align:center"/>
                            <h:outputText value="#{operacionBean.suplente2.apellido}" />

                            <h:outputLabel value="Observaciones" style="text-align:center"/>
                            <p:inputText  value="#{operacionBean.observacionBaja}"/>

                        </h:panelGrid>
                    </p:tab>
                </p:accordionPanel>
            </p:panel>    
            <div style="clear: both;"/>
            <p:commandButton id="btnSalir4"
                             value="Salir" 
                             oncomplete="dlgBajaTribunal.hide()"

                             process="@this"/>
            <p:commandButton id="btnAction4"
                             value="Guardar " 
                             actionListener="#{operacionBean.baja_tribunal()}" 
                             update="pAltaTribunal"
                             />
            <div style="clear: both;"/>

            <div>
                <p:messages autoUpdate="true"/>
            </div>
            <div style="clear: both;"/>
        </p:dialog>


        <p:dialog id="dAltaTribunal" 
                  widgetVar="dlgAltaTribunal" 
                  modal="true"

                  closable="false" resizable="false">
            <f:facet name="header">
                <h:outputText value="Alta de tribunal"/>
            </f:facet>


            <p:panel id="pAltaTribunal">
                <p:accordionPanel id ="apAltaTribunal" style="width: 600px;">
                    <p:tab title="realizar Alta de tribunal"> 
                        <h:panelGrid columns="2" cellpadding="2" >
                            <h:outputLabel value="Titulo:" style="text-align:center"/>
                            <h:outputText value="#{operacionBean.proyecto.titulo}" />


                        </h:panelGrid>

                        <p:tab title="Asignacion de Comision Evaluadora">
                            <h:panelGrid columns="2" cellpadding="2" >
                                <h:outputText value="Fecha  : "/>
                                <p:calendar value="#{operacionBean.tribunal.fecha}"/>
                                <h:outputText value="Resolucion (nnn/yyyy): "/>
                                <p:inputText value="#{operacionBean.tribunal.resolucion}"
                                             label="Observacion"/>

                            </h:panelGrid>

                        </p:tab>
                        <p:tab title="Asignacion De Tribunal">
                            <h:panelGrid columns="2" cellpadding="2" >

                                <h:outputText value="Presidente:  "/>
                                <p:selectOneMenu id="somPresidente"
                                                 converter="ConversorGenerico"
                                                 value="#{operacionBean.presidente}">
                                    <f:selectItem itemLabel="Seleccionar.." itemValue=""/>
                                    <f:selectItems 
                                        value="#{listaDocenteBean.lstSIDocente}"/>

                                </p:selectOneMenu>
                                <h:outputText value="Vocal 1:  "/>
                                <p:selectOneMenu id="somVocal1"
                                                 converter="ConversorGenerico"
                                                 value="#{operacionBean.vocal1}">
                                    <f:selectItem itemLabel="Seleccionar.." itemValue=""/>
                                    <f:selectItems 
                                        value="#{listaDocenteBean.lstSIDocente}"/>

                                </p:selectOneMenu>
                                <h:outputText value="Vocal 2:  "/>
                                <p:selectOneMenu id="somVocal2"
                                                 converter="ConversorGenerico"
                                                 value="#{operacionBean.vocal2}">
                                    <f:selectItem itemLabel="Seleccionar.." itemValue=""/>
                                    <f:selectItems 
                                        value="#{listaDocenteBean.lstSIDocente}"/>

                                </p:selectOneMenu>
                                <h:outputText value="Suplente 1:  "/>
                                <p:selectOneMenu id="somSuplente1"
                                                 converter="ConversorGenerico"
                                                 value="#{operacionBean.suplente1}">
                                    <f:selectItem itemLabel="Seleccionar.." itemValue=""/>
                                    <f:selectItems 
                                        value="#{listaDocenteBean.lstSIDocente}"/>

                                </p:selectOneMenu>
                                <h:outputText value="Suplente 2:  "/>
                                <p:selectOneMenu id="somSuplente2"
                                                 converter="ConversorGenerico"
                                                 value="#{operacionBean.suplente2}">
                                    <f:selectItem itemLabel="Seleccionar.." itemValue=""/>
                                    <f:selectItems 
                                        value="#{listaDocenteBean.lstSIDocente}"/>

                                </p:selectOneMenu>



                            </h:panelGrid>
                        </p:tab>


                    </p:tab>
                </p:accordionPanel>
            </p:panel>    
            <div style="clear: both;"/>
            <p:commandButton id="btnSalir6"
                             value="Salir" 
                             oncomplete="dlgAltaTribunal.hide()"

                             process="@this"/>
            <p:commandButton id="btnAction5"
                             value="Guardar " 
                             actionListener="#{operacionBean.alta_tribunal()}"
                             update="pBajaTribunal"


                             />
            <div style="clear: both;"/>

            <div>
                <p:messages autoUpdate="true"/>
            </div>
            <div style="clear: both;"/>
        </p:dialog>


        <p:dialog id="dSeguimientoProyecto" 
                  widgetVar="dlgSeguimientoProyecto" 
                  modal="true"

                  closable="false" resizable="false">
            <f:facet name="header">
                <h:outputText value="Seguimiento De Proyecto"/>
            </f:facet>




            <p:panel id="pSeguimiento">
                 <p:accordionPanel id ="apAlu" style="width: 600px;"> 
                    <p:tab title="Información del proyectoo">
                        <h:panelGrid columns="2" cellpadding="2" >
                            <h:outputLabel value="Titulo:" style="text-align:center"/>
                            <h:outputText value="#{operacionBean.proyecto.titulo}" />


                            <h:outputLabel value="ID: "/>
                            <h:outputText value="#{operacionBean.proyecto.id}" />


                            <h:outputLabel value="Estado: "/>
                            <h:outputText value="#{operacionBean.proyecto.estado.estado}" />


                            <h:outputLabel value="Fecha de presentación: "/>
                            <h:outputText value="#{operacionBean.proyecto.fecha_ingreso}" />
                            <div style="clear: both;"/>
                        </h:panelGrid>
                    </p:tab>

                    <p:tab title="Alumno/s">

                        <p:dataList value="#{operacionBean.lstProyAlumno}"
                                    var="alu" 
                                    emptyMessage="No existen alumnos">
                            <h:outputText value="#{alu.alumno.apellido},#{alu.alumno.nombre},    Matricula:#{alu.alumno.matricula},    Dni:#{alu.alumno.dni}"/>
                        </p:dataList>
                    </p:tab>
                    <p:tab title="Director">

                        <p:dataList value="#{operacionBean.lstProyDirector}"
                                    var="dir" 
                                    emptyMessage="No hay existen directores">
                            <h:outputText value="#{dir.docente.apellido},#{dir.docente.nombre},    Dni:#{dir.docente.dni}"/>
                        </p:dataList>
                    </p:tab>
                    <p:tab title="Codirector/es">

                        <p:dataList value="#{operacionBean.listaOperacionBean.lstProyCodirector}"
                                    var="cod" 
                                    emptyMessage="No existen codirectores">
                            <h:outputText value="#{cod.profesional.apellido},#{cod.profesional.nombre},    Matricula:#{cod.profesional.mat_profesional},    Dni:#{cod.profesional.dni}"/>
                        </p:dataList>
                    </p:tab>
                    <p:tab title="Asesor/es">

                        <p:dataList value="#{operacionBean.listaOperacionBean.lstProyAsesor}"
                                    var="ase" 
                                    emptyMessage="No existen asesores">
                            <h:outputText value="#{ase.profesional.apellido},#{ase.profesional.nombre},    Matricula:#{ase.profesional.mat_profesional},    Dni:#{ase.profesional.dni}"/>
                        </p:dataList>
                    </p:tab>

                    <p:tab title="Comision Evaluadora">
                        <h:panelGrid columns="2" style="margin-bottom:10px" cellpadding="5">
                            <h:outputLabel value="Presidente: "/>
                            <h:outputText value="#{operacionBean.presidente.apellido}" />
                            <h:outputLabel value="Vocal#1: "/>
                            <h:outputText value="#{operacionBean.vocal1.apellido}" />
                            <h:outputLabel value="Vocal#2: "/>
                            <h:outputText value="#{operacionBean.vocal2.apellido}" />
                            <h:outputLabel value="Suplente#1: "/>
                            <h:outputText value="#{operacionBean.suplente1.apellido}" />
                            <h:outputLabel value="Suplente#2: "/>
                            <h:outputText value="#{operacionBean.suplente2.apellido}" />
                        </h:panelGrid>
                    </p:tab>
                      <p:tab title="Aceptacion de Proyecto">

                          <p:dataList value="#{operacionBean.lstAceptacionProyecto}"
                                    var="acep" 
                                    emptyMessage="No existen aceptaciones">
                              <h:outputText value="Fecha:  #{acep.presentacion.fecha},    Calificacion:  #{acep.calificacion.calificacion}"/>
                        </p:dataList>
                    </p:tab>
                    
                     <p:tab title="Presentacion de Proyecto">

                         <p:dataList value="#{operacionBean.lstevaluacion}"
                                    var="eva" 
                                    emptyMessage="No existen presentaciones">
                             <h:outputText value="Fecha:  #{eva.presentacion.fecha},    Calificacion:  #{eva.calificacion.calificacion}"/>
                        </p:dataList>
                    </p:tab>
                      <p:tab title="Borrador de Proyecto">

                          <p:dataList value="#{operacionBean.lstBorradorEvaluacion}"
                                    var="brr" 
                                    emptyMessage="No existen borradores del proyecto">
                              <h:outputText value="Fecha:  #{brr.borrador.fecha},    Calificacion:  #{brr.calificacion.calificacion}"/>
                        </p:dataList>
                    </p:tab>

                </p:accordionPanel>  




            </p:panel>    

            <p:growl id="messageSeg" showDetail="true"  />
            <div style="clear: both;"/>
            <p:commandButton id="btnSalirSeg"
                             value="Salir" 
                             oncomplete="dlgSeguimientoProyecto.hide()"

                             process="@this"/>
          

            <div style="clear: both;"/>

            <div>
                <p:messages autoUpdate="true"/>
            </div>


            <div style="clear: both;"/>


        </p:dialog>


        <p:panel   id = "pPrincipal" header="Asentar operaciones de Proyectos" style="text-align:center;">
            <h:panelGrid columns="5" cellpadding="2" style="alignment-adjust: central">
                <h:outputText value="Proyecto:  "/>
                <p:selectOneMenu id="somProyecto"
                                 converter="ConversorGenerico"
                                 value="#{operacionBean.proyecto}">
                    <f:selectItem itemLabel="Seleccionar.." itemValue=""/>
                    <f:selectItems 
                        value="#{listaProyectoBean.lstSIProyectoAll}"/>

                </p:selectOneMenu>



                <h:outputText value="Operacion:   "/> 
                <p:commandButton id="cbBuscarOpe" 
                                 title="Buscar"
                                 icon="ui-icon-search"
                                 onclick="dlgOpeProy.show()"
                                 action="#{listaOperacionBean.cargar_SI_Operaciones()}"

                                 process="@this"
                                 immediate="true"
                                 update="dtOperacion"


                                 />
                <p:inputText id ="otOperacion" 
                             value="#{listaOperacionBean.selectedOpe.operacion}" 
                             readonly="true"
                             />



                <!--
                 <h:outputText value="Operacion  "/>
                <p:selectOneMenu id="somOperacion"
                                 converter="ConversorGenerico"
                                 value="#/{operacionBean.selectedOpe}">
                     
                    <f:selectItem itemLabel="Seleccionar.." itemValue=""/>
                    <f:selectItems 
                        value="#/{listaOperacionBean.lstSIOperacion}"/>
    
                </p:selectOneMenu>
                !-->
            </h:panelGrid>
            <div class="camposTexto"
                 style="float: left; margin: 10px;
                 width: 100%;
                 text-align: center;">

                <p:commandButton id="cbContinuar" 

                                 value="Continuar"


                                 update=":frmMain:display,display2,display3,
                                 display4,pBajaCodirector,pAltaCodirector,
                                 pAltaAsesor, pBajaTribunal, pSeguimiento, pAltaTribunal, @this"

                                 action="#{operacionBean.seleccionar_operacion()}"

                                 />



            </div>

        </p:panel>
    </ui:define>

</ui:composition>
